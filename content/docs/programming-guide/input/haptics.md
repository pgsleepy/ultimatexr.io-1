---
title: "Haptics"
---

# Haptics

Haptic impulses, in the context of VR controllers, refer to tactile feedback generated by the controller to simulate the sensation of touch or force feedback. These impulses are typically generated through small motors or actuators embedded within the controller, which produce vibrations or pulses that can be felt by the user. Haptic impulses are used to enhance immersion and provide users with physical feedback in virtual environments, such as when interacting with virtual objects.

## `UxrControllerInput`

The `UxrControllerInput` component, besides providing input capabilities, also provides the haptics functionality.

## Haptic Impulse

The following methods sends a simple haptic signal to a controller:

```c#
void SendHapticFeedback(UxrHandSide   handSide,
                        float         frequency,
                        float         amplitude,
                        float         durationSeconds,
                        UxrHapticMode hapticMode)
```

Where `amplitude` is a value between 0.0 and 1.0. `frequency` will be used if the device supports haptic feedback with variable frequency.

{{% callout info %}}
Devices that are supported using UnityXR will depend on the presence of [`HapticCapabilities.supportsBuffer`](https://docs.unity3d.com/ScriptReference/XR.HapticCapabilities-supportsImpulse.html) on the underlying [`InputDevice`](https://docs.unity3d.com/ScriptReference/XR.InputDevice.html) to send haptic buffers with variable frequency.
{{% /callout %}}

The optional `hapticMode` parameter, on devices that support it, controls whether to replace any present haptic feedback, using `UxrHapticMode.Replace`, or mix it, using `UxrHapticMode.Mix`. `UxrHapticMode.Mix` will be used when omitted.

`StopHapticFeedback()` will stop any haptic feedback on a given hand:

```c#
void StopHapticFeedback(UxrHandSide handSide)
```

## Haptic Clip

UltimateXR supports a set of predefined clips that can be used in common scenarios. These clips are defined in `UxrHapticClipType`:
- `RumbleFreqVeryLow`: A very low frequency rumble.
- `RumbleFreqLow`: A low frequency rumble.
- `RumbleFreqNormal`: A normal frequency rumble.
- `RumbleFreqHigh:`: A high frequency rumble.
- `RumbleFreqVeryHigh`: A very high frequency rumble.
- `Click`: A simple click.
- `Shot`: A shot.
- `ShotBig`: A more intense shot.
- `ShotBigger`: A very big shot.
- `Slide`: A slide.
- `Explosion`: An explosion.

These predefined clips are internally generated through a combination of simpler calls, ensuring compatibility with any haptic-capable device. They can be sent using the following method:

```c#
void SendHapticFeedback(UxrHandSide       handSide,
                        UxrHapticClipType clipType,
                        float             amplitude,
                        float             durationSeconds,
                        UxrHapticMode     hapticMode)
```

The `amplitude` parameter provides additional adjustment of the clip intensity. `durationSeconds` is an optional parameter that is set to -1 by default. When set to a positive value, it will override the default playback duration.
`hapticMode`, like in the other methods, will tell whether to replace or mix the clip. If omitted, the clip will be mixed.
									   
## UxrHapticClip

To facilitate haptic feedback, UltimateXR provides the `UxrHapticClip` class which includes all the necessary parameters. When this type is used for an inspector variable, it will appear like this:
![](/media/docs/programming-guide/input/haptics/UxrHapticClip.png)

- **Clip**: Is an audio clip whose wave can be used for haptic feedback if the device supports playing haptic buffers.
- **Clip Amplitude**: Controls the intensity with which the **Clip** is played.
- **Haptic Mode**: Determines whether to replace the current haptic feedback or mix it.
- **Fallback Clip Type**: [Pre-defined haptic clip](#haptic-clip) that will be played if **Clip** is not assigned or haptic buffers are unsupported.
- **Fallback Amplitude**: Controls the intensity with which the fallback clip is played.
- **Fallback Duration Seconds**: When positive, allows to override the fallback clip playback duration.

`UxrControllerInput` can play `UxrHapticClip` objects using the following method:
```c#
void SendHapticFeedback(UxrHandSide handSide, UxrHapticClip hapticClip)
```

UxrHapticClips can also be created on the fly:
```c#
// Create a clip using an audioClip, with a Click as fallback.
UxrHapticClip hapticClip = new UxrHapticClip(audioClip, 1.0f UxrHapticMode.Mix, UxrHapticClipType.Click);
											
UxrAvatar.LocalAvatarInput.SendHapticFeedback(UxrHandSide.Left, hapticClip);
```
												
## Manipulation haptics

When working with grabbable objects, it can be useful to send haptic feedback to all hands that are grabbing an object. This can be achieved using the following method:
```c#
void SendGrabbableHapticFeedback(UxrGrabbableObject grabbableObject,
                                 UxrHapticClipType  clipType,
                                 float              amplitude,
                                 float              durationSeconds,
                                 UxrHapticMode      hapticMode)
```
This will send the haptic feedback data to all controllers that are currently grasping an object.

The variation below will do the same, but using a `UxrHapticClip` instead:
```c#
void SendGrabbableHapticFeedback(UxrGrabbableObject grabbableObject, UxrHapticClip hapticClip)
```

## Events ##

`UxrControllerInput` provides access to the following events:
- `GlobalHapticRequesting`: A global static event raised whenever haptic feedback is requested on any `UxrControllerInput` component.
- `HapticRequesting`: Raised whenever haptic feedback is requested on the `UxrControllerInput` component of the event subscription.